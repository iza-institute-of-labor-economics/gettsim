---
eltern_verheiratet_2_kinder:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_einstandspartner: 1
      id_ehepartner: 1
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 1
      geburtstag: 1981-07-14
      id_einstandspartner: 0
      id_ehepartner: 0
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 2
      geburtstag: 2010-03-01
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
    - id: 3
      geburtstag: 2013-10-21
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
  output:
    - id_tax_unit:
        - 0
        - 0
        - 1
        - 2
    - id_bedarfsgemeinschaft:
        - 0
        - 0
        - 0
        - 0
    - kinderfreibeträge:
        - 2
        - 2
        - 0
        - 0
eltern_unverheiratet_2_kinder:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_einstandspartner: 1
      id_haushalt: 0
    - id: 1
      geburtstag: 1981-07-14
      id_einstandspartner: 0
      id_haushalt: 0
    - id: 2
      geburtstag: 2010-03-01
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
    - id: 3
      geburtstag: 2013-10-21
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
  output:
    - id_tax_unit:
        - 0
        - 1
        - 2
        - 3
    - id_bedarfsgemeinschaft:
        - 0
        - 0
        - 0
        - 0
    - kinderfreibeträge:
        - 1
        - 1
        - 0
        - 0
eltern_verheiratet_getrennt_veranlagt_2_kinder:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_einstandspartner: 1
      id_ehepartner: 1
      gemeinsam_veranlagt: false
      id_haushalt: 0
    - id: 1
      geburtstag: 1981-07-14
      id_einstandspartner: 0
      id_ehepartner: 0
      gemeinsam_veranlagt: false
      id_haushalt: 0
    - id: 2
      geburtstag: 2010-03-01
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
    - id: 3
      geburtstag: 2013-10-21
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
  output:
    - id_tax_unit:
        - 0
        - 1
        - 2
        - 3
    - id_bedarfsgemeinschaft:
        - 0
        - 0
        - 0
        - 0
    - kinderfreibeträge:
        - 1
        - 1
        - 0
        - 0
eltern_verheiratet_1_junges_1_erwachsenes_kind:
  input:
    - id: 0
      geburtstag: 1974-07-14
      id_einstandspartner: 1
      id_ehepartner: 1
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 1
      geburtstag: 1971-07-14
      id_einstandspartner: 0
      id_ehepartner: 0
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 2
      geburtstag: 2000-03-01
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
    - id: 3
      geburtstag: 2013-10-21
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
  output:
    - id_tax_unit:
        - 0
        - 0
        - 1
        - 2
    - id_bedarfsgemeinschaft:
      # Das ältere Kind wäre technisch eine eigene (nicht bedürfige)
      # BG, wenn sein Einkommen seinen Bedarf deckt. Das weiß man aber erst nach
      # der Anspruchsprüfung.
      # CZ: Einkommen hinzufügen um klar zu machen, dass Bedarf nicht gedeckt wird?
        - 0
        - 0
        - 1
        - 0
    - kinderfreibeträge:
      # Der Kinderfreibetrag für das erwachsene (aber unter 25jährige) Kind ist
      # ebenfalls endogen. CZ: Hier müssten wir in_ausbildung und arbeitsstunden_w
      # hinzufügen, um es eindeutig zu machen. Alternativ einfach vermerken, dass wir
      # hier davon ausgehen, dass bis 24 Kindergeldanspruch besteht.
        - 1
        - 1
        - 0
        - 0
eltern_verheiratet_1_kind_bis24_1_kind_ueber_24:
  input:
    - id: 0
      geburtstag: 1974-07-14
      id_einstandspartner: 1
      id_ehepartner: 1
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 1
      geburtstag: 1971-07-14
      id_einstandspartner: 0
      id_ehepartner: 0
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 2
      geburtstag: 1996-03-01
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
    - id: 3
      geburtstag: 2000-10-21
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
  output:
    - id_tax_unit:
        - 0
        - 0
        - 1
        - 2
    - id_bedarfsgemeinschaft:
        - 0
        - 0
        - 1
        - 0
    - kinderfreibeträge:
        - 0.5
        - 0.5
        - 0
        - 0
eltern_verheiratet_1_kind_großeltern:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_einstandspartner: 1
      id_ehepartner: 1
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 1
      geburtstag: 1981-07-14
      id_einstandspartner: 0
      id_ehepartner: 0
      gemeinsam_veranlagt: true
      id_haushalt: 0
      id_eltern:
        - 3
        - 4
    - id: 2
      geburtstag: 2010-03-01
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
    - id: 3
      geburtstag: 1954-02-13
      id_einstandspartner: 4
      id_ehepartner: 4
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 4
      geburtstag: 1953-01-02
      id_einstandspartner: 3
      id_ehepartner: 3
      gemeinsam_veranlagt: true
      id_haushalt: 0
  output:
    - id_tax_unit:
        - 0
        - 0
        - 1
        - 2
        - 2
    - id_bedarfsgemeinschaft:
        - 0
        - 0
        - 0
        - 1
        - 1
    - kinderfreibeträge:
        - 1
        - 1
        - 0
        - 0
        - 0
eltern_verheiratet_1_kind_anderer_verwandter:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_einstandspartner: 1
      id_ehepartner: 1
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 1
      geburtstag: 1981-07-14
      id_einstandspartner: 0
      id_ehepartner: 0
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 2
      geburtstag: 2010-03-01
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
    - id: 3
      geburtstag: 1984-05-12
      id_haushalt: 0
  output:
    - id_tax_unit:
        - 0
        - 0
        - 1
        - 2
    - id_bedarfsgemeinschaft:
        - 0
        - 0
        - 0
        - 1
    - kinderfreibeträge:
        - 1
        - 1
        - 0
        - 0
alleinerziehend_anderer_elternteil_unbekannt:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_haushalt: 0
    - id: 1
      geburtstag: 2010-03-01
      id_haushalt: 0
      id_eltern:
        - 0
  output:
    - id_tax_unit:
        - 0
        - 1
    - id_bedarfsgemeinschaft:
        - 0
        - 0
    - kinderfreibeträge:
        - 1
        - 0
    - unterhaltsvors:
        - 0
        - 0
        - '> 0'
alleinerziehend_anderer_elternteil_in_anderem_haushalt:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_haushalt: 0
    - id: 1
      geburtstag: 2010-03-01
      id_haushalt: 0
      id_eltern:
        - 0
        - 2
    - id: 2
      geburtstag: 1971-12-24
      id_haushalt: 1
  output:
    - id_tax_unit:
        - 0
        - 1
        - 2
    - id_bedarfsgemeinschaft:
        - 0
        - 0
        - 1
    - kinderfreibeträge:
    # CZ: In case the other parent does not pay child support, the parent id==0, can
    # request full kinderfreibetrag (Add this as input?)
        - 0.5
        - 0
        - 0.5
    - unterhaltsvors:
        - 0
        - 0
        - (potentially > 0)
neuer_unverheirateter_partner_1_kind_im_haushalt_anderer_elternteil_in_anderem_haushalt:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_einstandspartner: 1
      id_haushalt: 0
    - id: 1
      geburtstag: 1981-07-14
      id_einstandspartner: 0
      id_haushalt: 0
    - id: 2
      geburtstag: 2010-03-01
      id_haushalt: 0
      id_eltern:
        - 0
        - 3
    - id: 3
      geburtstag: 1971-12-24
      id_haushalt: 1
  output:
    - id_tax_unit:
        - 0
        - 1
        - 2
        - 3
    - id_bedarfsgemeinschaft:
        - 0
        - 0
        - 0
        - 1
    - kinderfreibeträge:
    # CZ: see comment above
        - 0.5
        - 0
        - 0
        - 0.5
    - unterhaltsvors:
        - 0
        - 0
        - (potentially > 0)
        - 0
neuer_verheirateter_partner_1_kind_im_haushalt_anderer_elternteil_anderer_elternteil_in_anderem_haushalt:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_einstandspartner: 1
      id_ehepartner: 1
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 1
      geburtstag: 1981-07-14
      id_einstandspartner: 0
      id_ehepartner: 0
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 2
      geburtstag: 2010-03-01
      id_haushalt: 0
      id_eltern:
        - 0
        - 3
    - id: 3
      geburtstag: 1971-12-24
      id_haushalt: 1
  output:
    - id_tax_unit:
        - 0
        - 0
        - 1
        - 2
    - id_bedarfsgemeinschaft:
        - 0
        - 0
        - 0
        - 1
    - kinderfreibeträge:
        - 0.5
        - 0.5  # CZ: I think so
        - 0
        - 0.5
    - unterhaltsvors:
    # not eligible for unterhaltsvorschuss if parent in same household is married to
    # new partner (kind_unterh_anspr_m unaffected)
        - 0
        - 0
        - 0
        - 0
neuer_unverheirateter_partner_1_kind_im_haushalt_anderer_elternteil_unbekannt:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_einstandspartner: 1
      id_haushalt: 0
    - id: 1
      geburtstag: 1981-07-14
      id_einstandspartner: 0
      id_haushalt: 0
    - id: 2
      geburtstag: 2010-03-01
      id_haushalt: 0
      id_eltern:
        - 0
  output:
    - id_tax_unit:
        - 0
        - 1
        - 2
    - id_bedarfsgemeinschaft:
        - 0
        - 0
        - 0
    - kinderfreibeträge:
        - 1
        - 0
        - 0
    - unterhaltsvors:
        - 0
        - 0
        - '> 0'
enkelkind_und_sgb_ii_grossmutter:
  input:
    - id: 0
      geburtstag: 2002-07-14
      id_haushalt: 0
    - id: 1
      geburtstag: 1966-03-01
      id_haushalt: 0
  output:
    - id_tax_unit:
        - 0
        - 1
    - id_bedarfsgemeinschaft:
        - 0
        - 1
    - kinderfreibeträge:
        - 0
        - 0
enkelkind_und_sgb_xii_grossmutter:
  input:
    - id: 0
      geburtstag: 2002-07-14
      id_haushalt: 0
    - id: 1
      geburtstag: 1954-03-01
      id_haushalt: 0
  output:
    - id_tax_unit:
        - 0
        - 1
    - id_bedarfsgemeinschaft:
        - 0
        - 1
    - kinderfreibeträge:
        - 0
        - 0
eltern_nicht_einstandspflichtig_ein_haushalt:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_haushalt: 0
    - id: 1
      geburtstag: 1981-07-14
      id_haushalt: 0
    - id: 2
      geburtstag: 2010-03-01
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
    - id: 3
      geburtstag: 2013-10-21
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
  output:
    - error: Eltern im selben Haushalt, aber nicht füreinander einstandspflichtig
eltern_widerspruechliche_veranlagungs_info:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_einstandspartner: 1
      id_ehepartner: 1
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 1
      geburtstag: 1981-07-14
      id_einstandspartner: 0
      id_ehepartner: 0
      gemeinsam_veranlagt: false
      id_haushalt: 0
  output:
    - error: Informationen zur gemeinsamen Veranlagung widersprechen sich zwischen zwei Ehepartnern
eltern_gemeinsam_veranlagt_unverheiratet:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_einstandspartner: 1
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 1
      geburtstag: 1981-07-14
      id_einstandspartner: 0
      gemeinsam_veranlagt: true
      id_haushalt: 0
  output:
    - error: Personen sind nicht verheiratet, aber gemeinsam veranlagt
# Es gibt eine große Zahl von unerlaubten Konstellationen der Input-Variablen
# Hier nur ein paar Beispiele. Wollen wir die tatsächlich alle testen?
eltern_widerspruechliche_veranlagung:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_einstandspartner: 1
      gemeinsam_veranlagt: false
      id_haushalt: 0
    - id: 1
      geburtstag: 1981-07-14
      gemeinsam_veranlagt: true
      id_haushalt: 0
    - id: 2
      geburtstag: 2010-03-01
      id_einstandspartner: 0
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
    - id: 3
      geburtstag: 2013-10-21
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
  output:
    - error: Eltern müssen konsistente Informationen in 'gemeinsam_veranlagt' aufweisen
eltern_kinder_widerspruechliche_inputs_1:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_einstandspartner: 1
      gemeinsam_veranlagt: false
      id_haushalt: 0
    - id: 1
      geburtstag: 1981-07-14
      gemeinsam_veranlagt: false
      id_haushalt: 0
    - id: 2
      geburtstag: 2010-03-01
      id_einstandspartner: 0
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
    - id: 3
      geburtstag: 2013-10-21
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
  output:
    - error: Kind kann nicht Einstandspartner eines Elternteils sein
eltern_kinder_widerspruechliche_inputs_2:
  input:
    - id: 0
      geburtstag: 1984-07-14
      id_einstandspartner: 1
      gemeinsam_veranlagt: false
      id_haushalt: 0
    - id: 1
      geburtstag: 1981-07-14
      id_einstandspartner: 0
      id_haushalt: 0
    - id: 2
      geburtstag: 2010-03-01
      gemeinsam_veranlagt: false
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
    - id: 3
      geburtstag: 2013-10-21
      id_haushalt: 0
      id_eltern:
        - 0
        - 1
  output:
    - error: Kind kann nicht mit Elternteil gemeinsam veranlagt sein
