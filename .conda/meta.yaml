{% set data = load_setup_py_data() %}

package:
  name: gettsim
  version: {{ data.get('version') }}

source:
  path: ../../gettsim

build:
  noarch: python

requirements:
  build:
    - python
    - setuptools

  run:
    - python >=3.6
    - pandas
    - pytest
    - pyyaml

test:
  commands:
    # We cannot call pytest directly because the source files rest in
    # ../work_moved_gettsim_[0-9]+ and not in the cwd.
    - python -c "import gettsim; gettsim.test()"
  imports:
    - gettsim

about:
  home: https://github.com/iza-institute-of-labor-economics/gettsim
  license: AGPLv3
  license_file: LICENSE
  summary: German tax and transfer simulator.
